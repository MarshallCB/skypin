!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).skypin={})}(this,(function(t){"use strict";let e=(i=new Map,{get:t=>i.get(t),set:(t,e)=>(i.set(t,e),e)});var i;let n="https://cdn.skypack.dev",s={pinned:!0,minified:!0};async function o(t){try{const e=await fetch(`${n}/${t}`);let i=e.headers.get("x-import-status"),s=e.headers.get("x-import-url"),r=e.headers.get("x-pinned-url")||s;if("NEW"===i&&s)return await fetch(`${n}${s}`),await o(t);let a=r.lastIndexOf("/");return{normal:`${n}${r}`,minified:`${n}${r.slice(0,a)+"/min"+r.slice(a)}`}}catch(t){return console.log("Error fetching module from skypack. Returning empty strings"),console.log(t),{normal:"",minified:""}}}t.skypin=async function(t,{pinned:i,minified:r}={}){if(options={...s,...options},t.startsWith(".")||t.startsWith("https://")||t.startsWith("http://"))return t;let[a,f="latest"]=t.split("@").filter((t=>t.length));a="@"===t.charAt(0)?`@${a}`:a;let l=`${a}@${f}`;return options.pinned?await async function(t,i=!0){return e.get(t)||e.set(t,(await o(t))[i?"minified":"normal"])}(l,options.minified):`${n}/${l}`},Object.defineProperty(t,"__esModule",{value:!0})}));
