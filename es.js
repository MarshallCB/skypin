let t=(e=new Map,{get:t=>e.get(t),set:(t,n)=>(e.set(t,n),n)});var e;let n="https://cdn.skypack.dev",i={pin:!0,min:!0};async function r(e,r={}){if(r={...i,...r},e.startsWith(".")||e.startsWith("https://")||e.startsWith("http://"))return e;let a=function(t="",e=(()=>"latest")){let n=/^(@[\w-_\.]+\/[\w-_\.]+|[\w-_\.]+)(@([\d\.]+))?([\/\w-_\.]+)*/g.exec(t);if(n){let[t,i,r,s,a=""]=n;return s=s||e(i),i+"@"+s+a}return t}(e);return r.pin?await async function(e,n=!0){return t.get(e)||t.set(e,(await s(e))[n?"minified":"normal"])}(a,r.min):`${n}/${a}`}async function s(t){try{const e=await fetch(`${n}/${t}`),i=await e.text();let r=(/Normal:\s([\S]+)/g.exec(i)||["",""])[1],a=(/Minified:\s([\S]+)/g.exec(i)||["",""])[1];if("Not"===a||"Not"===r){let e=n+(/export\s\*\sfrom\s'([^\s;']+)/g.exec(i)||["",""])[1];return await fetch(e),s(t)}if(!(r&&a&&r.length&&a.length))throw"Invalid URL found";return{normal:r,minified:a}}catch(t){return console.log("Error fetching module from skypack. Returning empty strings"),console.log(t),{normal:"",minified:""}}}export{r as skypin};
