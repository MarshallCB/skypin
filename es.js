let t=(e=new Map,{get:t=>e.get(t),set:(t,i)=>(e.set(t,i),i)});var e;let i="https://cdn.skypack.dev",n={pinned:!0,minified:!0};async function r(e,{pinned:r,minified:a}={}){if(options={...n,...options},e.startsWith(".")||e.startsWith("https://")||e.startsWith("http://"))return e;let[o,l="latest"]=e.split("@").filter((t=>t.length));o="@"===e.charAt(0)?`@${o}`:o;let c=`${o}@${l}`;return options.pinned?await async function(e,i=!0){return t.get(e)||t.set(e,(await s(e))[i?"minified":"normal"])}(c,options.minified):`${i}/${c}`}async function s(t){try{const e=await fetch(`${i}/${t}`);let n=e.headers.get("x-import-status"),r=e.headers.get("x-import-url"),a=e.headers.get("x-pinned-url")||r;if("NEW"===n&&r)return await fetch(`${i}${r}`),await s(t);let o=a.lastIndexOf("/");return{normal:`${i}${a}`,minified:`${i}${a.slice(0,o)+"/min"+a.slice(o)}`}}catch(t){return console.log("Error fetching module from skypack. Returning empty strings"),console.log(t),{normal:"",minified:""}}}export{r as skypin};
